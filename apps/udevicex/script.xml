<?xml version="1.0"?>
<simulation name="poiseuille" logfile="log" mpi_ranks="1 1 1" debug_lvl="10">

	<domain size="64 64 64" />
	
	<particle_vector type="regular" name="dpd" mass="1">
		<generate type="uniform" density="8" />
	</particle_vector>
	
<!-- 	<particle_vector type="regular" name="wall" mass="1">
		<generate type="restart" path="restart/" />
	</particle_vector>
	
	<wall type="sdf" name="wall" check_every="100" sdf_filename="../../walls/cylinder_r5_h32.sdf">
		<generate_frozen name="frozen" path="restart" mass="1.0" density="8" a="2.6666667" kbt="0.05" rc="1.0" power="0.5" />
		<apply_to pv="dpd" />
	</wall> -->

	<!-- <wall type="sphere" name="wall" check_every="100" center="16 16 16" radius="2.5" inside="false"  >
		<generate_frozen path="restart" mass="1.0" density="8" a="5" kbt="0.1" rc="1.0" power="0.5" />
		<apply_to pv="dpd" />
	</wall> -->
	
	<interaction type="dpd" name="dpd_int" a="2.6666667" gamma="8" kbt="0.0444302" dt="0.001" rc="1.0" power="0.5"
				 stress_period="0.02" >
		<apply_to pv1="dpd" pv2="dpd"/>
	</interaction>
	
	<integrator type="vv_periodic_poiseuille" name="pois" force="0.00" dt="0.001">
		<apply_to pv="dpd" />
	</integrator>
	
 	<plugin type="dump_avg_flow" name="avg" pv_name="dpd" path="xdmf/avg_rho_u" 
			sample_every="20" dump_every="10000" bin_size="1 1 1" >
		<channel name="velocity" type="vector_from_float8" />
		<channel name="stress" type="tensor6" /> -->
	</plugin>
	
	<plugin type="stats" name="stats" every="1000" />
	
	<run niters="100" />

</simulation>
